<div class="refresh">
    <button mat-raised-button (click)="refresh()" >refresh</button>
</div>

<div class="mat-elevation-z8 table">
  <table mat-table [dataSource]="dataSource">
    <!-- Id Column -->
    <ng-container matColumnDef="Id">
      <th mat-header-cell *matHeaderCellDef>ID</th>
      <td mat-cell *matCellDef="let element;let i=index">{{ i+1}}</td>
    </ng-container>

    <!-- title Column -->
    <ng-container matColumnDef="Title">
      <th mat-header-cell *matHeaderCellDef>Title</th>
      <td mat-cell *matCellDef="let element" class="title"><p>{{ element.title }}</p></td>
    </ng-container>

    <!-- Price Column -->
    <ng-container matColumnDef="Price">
      <th mat-header-cell *matHeaderCellDef>Price</th>
      <td mat-cell *matCellDef="let element">{{ element.price | currency :'INR'}}</td>
    </ng-container>

    <!-- description Column -->
    <ng-container matColumnDef="Description">
      <th mat-header-cell *matHeaderCellDef>Description</th>
      <td mat-cell *matCellDef="let element">
        {{ element.description | slice : 0 : 18 }}
      </td>
    </ng-container>

    <!-- category Column -->
    <ng-container matColumnDef="Category">
      <th mat-header-cell *matHeaderCellDef>Category</th>
      <td mat-cell *matCellDef="let element">{{ element.category }}</td>
    </ng-container>

    <!-- Image Column -->
    <ng-container matColumnDef="Image">
      <th mat-header-cell *matHeaderCellDef>Image</th>
      <td mat-cell *matCellDef="let element" class="image">
        <!-- {{ element.image }} -->
         <img src="{{element.image}}" alt="" height=100 width=100></td>
    </ng-container>

    <!-- rating Column -->
    <ng-container matColumnDef="Rating">
      <th mat-header-cell *matHeaderCellDef>Rating</th>
      <td mat-cell *matCellDef="let element">
        <table class="ratingtable">
            <tbody>
                <tr>
                <th>Rating</th>
                <td>{{ element.rating.rate }}</td>
                </tr>
                <tr>
                <th>Count</th>
                <td>{{ element.rating.count }}</td>
                </tr>
            </tbody>
        </table>
    </td>
    </ng-container>

    <!-- options Column -->
    <ng-container matColumnDef="Options">
      <th mat-header-cell *matHeaderCellDef>Options</th>
      <td mat-cell *matCellDef="let element">
        <div class="btns">
            <button mat-stroked-button color='primary' (click)="updateProduct(element.id)">Update</button>
            <button mat-stroked-button  color='warn' (click)="deleteData(element.id)">Delete</button></div>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
  </table>

  <mat-paginator class="paginator"
    [pageSizeOptions]="[5, 10, 20]"
    showFirstLastButtons
    aria-label="Select page of periodic elements"
  >
  </mat-paginator>
</div>
